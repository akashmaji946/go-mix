// Test List Index Assignment
// This file tests the list[0] = value assignment support for lists

println("=== List Index Assignment Tests ===")

// Test 1: Basic index assignment
println("\n--- Test 1: Basic Index Assignment ---")
var list1 = list(10, 20, 30, 40, 50)
println("Original list:", list1)
list1[0] = 100
println("After list1[0] = 100:", list1)

// Test 2: Middle index assignment
println("\n--- Test 2: Middle Index Assignment ---")
var list2 = list(1, 2, 3, 4, 5)
println("Original list:", list2)
list2[2] = 999
println("After list2[2] = 999:", list2)

// Test 3: Negative index assignment
println("\n--- Test 3: Negative Index Assignment ---")
var list3 = list(100, 200, 300, 400)
println("Original list:", list3)
list3[-1] = 999
println("After list3[-1] = 999:", list3)
list3[-2] = 888
println("After list3[-2] = 888:", list3)

// Test 4: Multiple assignments
println("\n--- Test 4: Multiple Assignments ---")
var list4 = list(0, 0, 0, 0, 0)
println("Original list:", list4)
list4[0] = 1
list4[1] = 2
list4[2] = 3
list4[3] = 4
list4[4] = 5
println("After multiple assignments:", list4)

// Test 5: Assignment with expressions
println("\n--- Test 5: Assignment with Expressions ---")
var list5 = list(10, 20, 30)
println("Original list:", list5)
list5[0] = list5[0] + 5
list5[1] = list5[1] * 2
list5[2] = list5[0] + list5[1]
println("After expression assignments:", list5)

// Test 6: Assignment combined with push/pop operations
println("\n--- Test 6: Assignment with Push/Pop Operations ---")
var list6 = list(1, 2, 3)
println("Original list:", list6)
pushback_list(list6, 4)
println("After pushback:", list6)
list6[0] = 100
list6[3] = 400
println("After assignments:", list6)
var popped = popback_list(list6)
println("Popped value:", popped)
println("After pop:", list6)

// Test 7: Assignment in a loop
println("\n--- Test 7: Assignment in a Loop ---")
var list7 = list(0, 0, 0, 0, 0)
println("Original list:", list7)
var i = 0
while(i < 5) {
    list7[i] = i * 10
    i = i + 1
}
println("After loop assignments:", list7)

// Test 8: Verify list size unchanged
println("\n--- Test 8: Verify List Size Unchanged ---")
var list8 = list(1, 2, 3)
println("List:", list8)
println("Size before:", size_list(list8))
list8[0] = 100
list8[1] = 200
list8[2] = 300
println("List after:", list8)
println("Size after:", size_list(list8))

// Test 9: Nested list assignment
println("\n--- Test 9: Nested List Assignment ---")
var nested = list(list(1, 2), list(3, 4), list(5, 6))
println("Original nested list:", nested)
nested[0][0] = 100
nested[1][1] = 400
println("After nested assignments:", nested)

println("\n=== All list index assignment tests completed! ===")
