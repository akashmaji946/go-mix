// Tests for deeply nested loops (3+ levels) with variable declarations

// Test 1: 3-level nested for loops
print("=== Test 1: 3-Level Nested For Loops ===")
var i = 0
var j = 0
var k = 0
for(i = 0; i < 2; i = i + 1) {
    var level1_var = i * 100
    print("Level 1 - i:", i, "var:", level1_var)
    
    for(j = 0; j < 2; j = j + 1) {
        var level2_var = j * 10
        print("  Level 2 - j:", j, "var:", level2_var)
        
        for(k = 0; k < 2; k = k + 1) {
            var level3_var = k
            var combined = level1_var + level2_var + level3_var
            print("    Level 3 - k:", k, "combined:", combined)
        }
    }
}

// Test 2: 3-level nested while loops
print("\n=== Test 2: 3-Level Nested While Loops ===")
var a = 0
while(a < 2) {
    var a_squared = a * a
    print("Level 1 - a:", a, "squared:", a_squared)
    
    var b = 0
    while(b < 2) {
        var b_doubled = b * 2
        print("  Level 2 - b:", b, "doubled:", b_doubled)
        
        var c = 0
        while(c < 2) {
            var sum_all = a + b + c
            print("    Level 3 - c:", c, "sum:", sum_all)
            c = c + 1
        }
        b = b + 1
    }
    a = a + 1
}

// Test 3: Mixed 3-level nesting (for-while-for)
print("\n=== Test 3: Mixed Nesting (For-While-For) ===")
var x = 0
for(x = 0; x < 2; x = x + 1) {
    var x_val = x * 5
    print("For level - x:", x, "val:", x_val)
    
    var y = 0
    while(y < 2) {
        var y_val = y * 3
        print("  While level - y:", y, "val:", y_val)
        
        var z = 0
        for(z = 0; z < 2; z = z + 1) {
            var product = x_val * y_val * z
            print("    For level - z:", z, "product:", product)
        }
        y = y + 1
    }
}

// Test 4: 4-level deep nesting
print("\n=== Test 4: 4-Level Deep Nesting ===")
var d1 = 0
for(d1 = 0; d1 < 2; d1 = d1 + 1) {
    var v1 = d1
    
    var d2 = 0
    while(d2 < 2) {
        var v2 = d2
        
        var d3 = 0
        for(d3 = 0; d3 < 2; d3 = d3 + 1) {
            var v3 = d3
            
            var d4 = 0
            while(d4 < 2) {
                var v4 = d4
                var depth_sum = v1 + v2 + v3 + v4
                print("Depth 4 - values:", v1, v2, v3, v4, "sum:", depth_sum)
                d4 = d4 + 1
            }
        }
        d2 = d2 + 1
    }
}

// Test 5: Deep nesting with computation at each level
print("\n=== Test 5: Computation at Each Level ===")
var total = 0
var l1 = 0
for(l1 = 1; l1 <= 2; l1 = l1 + 1) {
    var l1_contrib = l1 * 1000
    total = total + l1_contrib
    
    var l2 = 0
    for(l2 = 1; l2 <= 2; l2 = l2 + 1) {
        var l2_contrib = l2 * 100
        total = total + l2_contrib
        
        var l3 = 0
        for(l3 = 1; l3 <= 2; l3 = l3 + 1) {
            var l3_contrib = l3 * 10
            total = total + l3_contrib
            print("L1:", l1, "L2:", l2, "L3:", l3, "Running total:", total)
        }
    }
}
print("Final total:", total)

print("\n=== All deep nesting tests completed! ===")
